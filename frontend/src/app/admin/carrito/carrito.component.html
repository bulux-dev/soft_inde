<div class="row">
  <div class="transition" [ngClass]="{'col-12 col-sm-9': !isHovered,
  'col-12 col-sm-4 dimmed': isHovered}">
    <div class="row">
      <div class="col-lg-3 col-sm-4">
        <div class="card product-table" style="height: 80vh;">
          <div class="card-body" style="padding: 10px;">

            <!-- Categorias -->
            <h4 class="text-primary" style="text-align: center;">Categorias</h4>
            <br>
            <ul class="inbox-menu">
              <li [ngClass]="{'cat': !categoria_id}">
                <a href="javascript:void(0);" (click)="getProductosByCategoria(null)">
                  Sin Categoria
                </a>
              </li>
              <hr>
              @for (c of categorias; track c) {
              <li class="categ" [ngStyle]="{'background': c.id == categoria_id ? c.color : 'transparent'}"
                (click)="categoria2_id = c.id">
                <a href="javascript:void(0);" (click)="getProductosByCategoria(c.id)"
                  [ngStyle]="{'color': c.id == categoria_id ? '#fff' : c.color}">
                  {{c.nombre}} <span class="mail-count">({{c.productos_categorias.length}})</span>
                </a>
              </li>
              @for (c2 of c.subcategorias; track c2) {

              @if (c2.categoria_id == categoria2_id) {
              <li class="categ" [ngStyle]="{'background': c2.id == categoria_id ? c2.color : 'transparent'}"
                (click)="categoria3_id = c2.id">
                <a href="javascript:void(0);" (click)="getProductosByCategoria(c2.id)"
                  [ngStyle]="{'color': c2.id == categoria_id ? '#fff' : c2.color}">
                  <span style="margin-left: 20px;">
                    {{c2.nombre}} <span class="mail-count">({{c2.productos_categorias.length}})</span>
                  </span>
                </a>
              </li>

              @for (c3 of c2.subcategorias; track c3) {
              @if (c3.categoria_id == categoria3_id) {
              <li class="categ" [ngStyle]="{'background': c3.id == categoria_id ? c3.color : 'transparent'}">
                <a href="javascript:void(0);" (click)="getProductosByCategoria(c3.id)"
                  [ngStyle]="{'color': c3.id == categoria_id ? '#fff' : c3.color}">
                  <span style="margin-left: 40px;">
                    {{c3.nombre}} <span class="mail-count">({{c3.productos_categorias.length}})</span>
                  </span>
                </a>
              </li>
              }
              }

              }

              }
              }
            </ul>

            <!-- Marcas -->
            <h4 class="text-primary" style="text-align: center;">Marcas</h4>
            <br>
            <ul class="inbox-menu">
              <li [ngClass]="{'cat': !marca_id}">
                <a href="javascript:void(0);" (click)="getProductosByMarca(null)">
                  Sin Marca
                </a>
              </li>
              @for (m of marcas; track m) {
              <li [ngClass]="{'cat': m.id == marca_id}">
                <a href="javascript:void(0);" (click)="getProductosByMarca(m.id)">
                  {{m.nombre}} <span class="mail-count">({{m.productos_marcas.length}})</span>
                </a>
              </li>
              }
            </ul>

          </div>
        </div>
      </div>
      <div class="col-lg-9 col-sm-8">
        <div class="row">
          <div class="col-lg-1 col-3" style="text-align: center;">
            <button class="btn btn-primary active" data-bs-toggle="offcanvas" data-bs-target="#agregar-producto"
              permiso="agregar-producto">
              <i class="fa-solid fa-plus"></i>
            </button>
          </div>
          <div class="col-lg-3 col-3" style="text-align: center;">
            <input type="text" class="form-control" placeholder="SKU..." (keyup.enter)="searchBySku($event)">
            <br>
          </div>
          <div class="col-lg-3 col-3" style="text-align: center;">
            <input id="buscar-nombre" type="text" class="form-control" placeholder="Nombre..."
              (keyup.enter)="searchByNombre($event)">
            <br>
          </div>
          <div class="col-lg-3 col-3">
            <button class="btn btn-primary active" [ngClass]="{'btn-primary': data_view == 'grid'}"
              (click)="setDataView('grid')">
              <i class="fa-solid fa-grid"></i>
            </button>
            <button class="btn btn-primary active" [ngClass]="{'btn-primary': data_view == 'list'}"
              (click)="setDataView('list')" style="margin-left: 10px;">
              <i class="fa-solid fa-list"></i>
            </button>
          </div>
        </div>
        <div class="row product-table" style="height: 80vh;">

          @for (p of productos_lista; track p) {

          @if(data_view == 'grid') {
          <div id="añadir-carrito" class="col-lg-2 col-sm-4 col-6 d-flex" (click)="addProducto(p)">
            <div class="productset">
              <div class="productsetimg">
                <img [src]="p.logo ? p.logo : 'assets/img/blank.jpg'" alt="img">
                @if (p.variaciones.length) {
                <h6>VARIABLE</h6>
                } @else {
                <h6>{{p.tipo_producto.nombre}}</h6>
                }
              </div>
              <div class="productsetcontent">
                <h5>{{p.sku}}</h5>
                <h4 [attr.title]="p.descripcion">{{p.nombre}}</h4>
                <div class="d-flex align-items-center justify-content-between price">
                  @if (documento.tipo_documento.costo) {
                  <p class="text-primary" style="margin: 0;">{{getCosto(p) | moneda: moneda_simbolo}}</p>
                  }
                  @if (documento.tipo_documento.precio) {
                  <p class="text-primary" style="margin: 0;">{{getPrecio(p) | moneda: moneda_simbolo}}</p>
                  }
                  <button class="btn btn-primary btn-sm">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
          }
          @if(data_view == 'list') {
          <ul class="product-lists" (click)="addProducto(p)">
            <li style="width: 80%;">
              <div class="productimg">
                <div class="productimgs">
                  <img [src]="p.logo ? p.logo : 'assets/img/blank.jpg'" alt="img">
                </div>
                <div class="productcontet">
                  <h6 [attr.title]="p.descripcion">{{p.nombre}}</h6>
                  <p>SKU: {{p.sku}}</p>
                </div>
              </div>
            </li>
            <li>
              @if (documento.tipo_documento.costo) {
              <p class="text-primary" style="margin: 0;">{{getCosto(p) | moneda: moneda_simbolo}}</p>
              }
              @if (documento.tipo_documento.precio) {
              <p class="text-primary" style="margin: 0;">{{getPrecio(p) | moneda: moneda_simbolo}}</p>
              }
            </li>
          </ul>
          }

          } @empty {
          <div class="col-12" style="text-align: center; margin-top: 50px;">
            <img class="fa-beat" id="robot" src="https://api.kairosgt.com/public/robots/etiqueta.png" width="250">
            <br><br>
            <h4>No existen productos</h4>
          </div>
          }
        </div>
      </div>
    </div>
  </div>

  <div class="transition" [ngClass]="{'col-12 col-sm-3': !isHovered,
  'col-12 col-sm-8': isHovered}" (mouseenter)="isHovered = true" (mouseleave)="isHovered = false">
    <div class="card">
      <div class="card-body pt-2">
        <div class="totalitem">
          <h4>Total items : {{carrito_detalles.length}}</h4>
          @if (isHovered) {
          <h4>Total cantidad : {{getTotalCantidad()}}</h4>
          }
          <div>
            <button class="btn btn-outline-primary btn-sm" (click)="updateCarrito()" style="margin-left: 10px;">
              <i class="fa-solid fa-rotate-right"></i>
            </button>
            <button class="btn btn-outline-primary btn-sm" data-bs-toggle="offcanvas" data-bs-target="#carrito_detalles"
              style="margin-left: 10px;">
              <i class="fa-solid fa-gear"></i>
            </button>
            <button class="btn btn-outline-danger btn-sm" (click)="limpiarProductos()" style="margin-left: 10px;">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        </div>
        <ul class="product-lists">
          <li style="width: 70%;">Descripción</li>
          @if (isHovered) {
          <li style="width: 20%;">Cantidad</li>
          <li style="width: 14%;">Medida</li>

          @if (documento.tipo_documento.precio){
          <li style="width: 15%;">Precio</li>
          <li style="width: 15%;">SubTotal</li>
          } @else if (documento.tipo_documento.costo){
          <li style="width: 15%;">Costo</li>
          <li style="width: 15%;">SubTotal</li>
          } @else {
          <li style="width: 15%;"></li>
          <li style="width: 15%;"></li>
          }

          }
          <li style="width: 1%;"></li>
        </ul>
        <div class="product-table">
          @for (d of carrito_detalles; track d) {
          <ul class="product-lists">
            <li style="width: 70%;">
              <div class="productimg">
                <div class="productimgs">
                  <img [src]="d.logo ? d.logo : 'assets/img/blank.jpg'" alt="img">
                </div>
                <div class="productcontet">
                  @if (isHovered) {
                  <h4 contenteditable="true" [textContent]="d.descripcion" (input)="updateDescripcion($event, d)"
                    [attr.title]="d.producto.descripcion">
                  </h4>
                  } @else {
                  <h4 [innerHTML]="d.descripcion | truncate: 25"></h4>
                  }
                  <div class="productlinkset">
                    @if (d.producto.stock) {
                    <h5>
                      <i class="fa fa-cubes-stacked"></i> {{d.stock}}
                    </h5>
                    }
                    @if (d.producto.lote && d.lote && isHovered) {
                    <h5>
                      <i class="fa fa-box-open"></i> {{d.lote?.nombre}}
                    </h5>
                    <h5>
                      <i class="fa fa-calendar"></i> CAD: {{d.lote.fecha_caducidad | date: 'dd/MM/yyyy'}}
                    </h5>
                    }
                  </div>
                </div>
              </div>
            </li>
            <li style="width: 20%;">
              <div class="increment-decrement">
                <div class="input-groups">
                  <input type="button" value="-" class="button-minus dec button" (click)="calculo(d, 'resta')">
                  <input type="text" [(ngModel)]="d.cantidad" [ngModelOptions]="{standalone: true}"
                    class="quantity-field" (input)="calculo(d)">
                  <input type="button" value="+" class="button-plus inc button " (click)="calculo(d, 'suma')">
                </div>
              </div>
            </li>
            @if (isHovered) {
            <li style="width: 14%;">
              <div class="btn-group" style="margin: 10px;">
                <button type="button" class="btn btn-primary btn-sm">{{d.medida.simbolo}}</button>
                <button type="button" class="btn btn-primary btn-sm dropdown-toggle dropdown-toggle-split"
                  id="dropdownMenuReference" data-bs-toggle="dropdown" aria-expanded="false" data-bs-reference="parent">
                  <span class="visually-hidden">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuReference">
                  <li>
                    <a class="dropdown-item" (click)="setEquivalencia(d, d.producto)">
                      {{d.producto.medida.nombre}} ({{d.producto.medida.simbolo}})
                    </a>
                  </li>
                  @for (e of d.equivalencias; track e) {
                  <li>
                    <a class="dropdown-item" (click)="setEquivalencia(d, e)">
                      {{e.medida.nombre}} ({{e.medida.simbolo}})
                    </a>
                  </li>
                  }
                </ul>
              </div>
            </li>

            @if (documento.tipo_documento.costo) {
            <li style="width: 15%;">
              @if (moneda_id == 1) {
              <input type="number" [(ngModel)]="d.costo_unitario" [ngModelOptions]="{standalone: true}"
                (input)="calculo(d)" class="form-control" style="width: 100px;">
              } @else {
              <input type="number" [(ngModel)]="d.costo_unitario_ext" [ngModelOptions]="{standalone: true}"
                (input)="calculo(d)" class="form-control" style="width: 100px;">
              }
            </li>
            } @else if (documento.tipo_documento.precio) {
            <li style="width: 15%;">
              <div class="input-group">
                @if (moneda_id == 1) {
                <input type="number" [(ngModel)]="d.precio_unitario" [ngModelOptions]="{standalone: true}"
                  (input)="calculo(d)" class="form-control" style="width: 100px;">
                } @else {
                <input type="number" [(ngModel)]="d.precio_unitario_ext" [ngModelOptions]="{standalone: true}"
                  (input)="calculo(d)" class="form-control" style="width: 100px;">
                }
                @if (productos_precios.length > 0) {
                <button type="button" class="btn btn-primary btn-sm dropdown-toggle dropdown-toggle-split"
                  id="dropdownMenuReference" data-bs-toggle="dropdown" aria-expanded="false" data-bs-reference="parent">
                  <span class="visually-hidden">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuReference">
                  <li>
                    <a class="dropdown-item" (click)="setPrecio(d, null)">
                      --
                    </a>
                  </li>
                  @for (p of productos_precios; track p) {
                  <li>
                    <a class="dropdown-item" (click)="setPrecio(d, p)">
                      {{p.nombre}}
                    </a>
                  </li>
                  }
                </ul>
                }
              </div>
            </li>
            } @else {
            <li style="width: 15%;"></li>
            <li style="width: 15%;"></li>
            }
            @if (moneda_id == 1) {
            <li style="width: 15%;">
              <span style="margin-left: 10px;">{{d.total | moneda: ''}}</span>
            </li>
            } @else {
            <li style="width: 15%;">
              <span style="margin-left: 10px;">{{d.total_ext | moneda: ''}}</span>
            </li>
            }
            <li class="text-end" style="width: 1%;">
              <a (click)="removeItem(d)" href="javascript:void(0);">
                <i class="fa fa-trash text-danger"></i>
              </a>
            </li>
            }
          </ul>
          } @empty {
          <div class="col-12" style="text-align: center; margin-top: 50px;">
            <img class="fa-bounce" id="robot" src="https://api.kairosgt.com/public/robots/inventario.png" width="100">
            <h4>No existen items</h4>
          </div>
          }
        </div>
        <div class="split-card"></div>
        <div class="setvalue">
          <div class="row">
            <div class="col">
              <ul>
                <li>
                  <h5>Subtotal </h5>
                  <h6>{{getSubtotal() | moneda: ''}}</h6>
                </li>
                <li>
                  <h5>Impuesto </h5>
                  <h6>{{getImpuesto() | moneda: ''}}</h6>
                </li>
                <li class="total-value">
                  <h5>Total </h5>
                  <h6>{{getTotal() | moneda: ''}}</h6>
                </li>
              </ul>
            </div>
            @if (moneda_id != 1) {
            <div class="col-6">
              <ul>
                <li>
                  <h5>Subtotal Ext. </h5>
                  <h6>{{getSubtotal(true) | moneda: moneda_simbolo}}</h6>
                </li>
                <li>
                  <h5>Impuesto Ext.</h5>
                  <h6>{{getImpuesto(true) | moneda: moneda_simbolo}}</h6>
                </li>
                <li class="total-value">
                  <h5>Total Ext.</h5>
                  <h6>{{getTotal(true) | moneda: moneda_simbolo}}</h6>
                </li>
              </ul>
            </div>
            }
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<div class="offcanvas offcanvas-end" id="variaciones">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Seleccionar Variacion</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div class="row">
      @for (v of variaciones; track v) {
      <div class="col-lg-3 col-sm-4 col-6 d-flex" (click)="addVariacion(v)"
        [ngClass]="{'disabled': getVariacionOff(v)}">
        <div class="productset">
          <div class="productsetimg">
            <img [src]="v.logo ? v.logo : producto.logo ? producto.logo : 'assets/img/blank.jpg'" alt="img"
              style="width: 100%;">
            <h6>{{v.producto.tipo_producto.nombre}}</h6>
          </div>
          <div class="productsetcontent">
            <h5>{{v.sku ? v.sku : producto.sku}}</h5>
            <h4>{{v.nombre ? v.nombre : producto.nombre}} <br> ({{v.variacion}})</h4>
            <div class="d-flex align-items-center justify-content-between price">
              @if (documento.tipo_documento.costo) {
              <p class="text-primary" style="margin: 0;">
                Q. {{(v.costo ? v.costo : v.producto.costo) | moneda: ''}}
              </p>
              }
              @if (documento.tipo_documento.precio) {
              <p class="text-primary" style="margin: 0;">
                Q. {{(v.precio ? v.precio : v.producto.precio) | moneda: ''}}
              </p>
              }
              <button class="btn btn-primary btn-sm" (click)="addVariacion(v)">
                <i class="fas fa-shopping-cart"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      } @empty {
      <div class="col-12" style="text-align: center; margin-top: 50px;">
        <h4>No existen variaciones</h4>
      </div>
      }
    </div>
  </div>
</div>

<div class="offcanvas offcanvas-end" id="lotes">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Seleccionar Lote</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">

    @if (documento.tipo_documento.inv_entrada && !documento.tipo_documento.inv_salida){
    <form [formGroup]="loteForm">
      <div class="row">
        <div class="mb-3 col-4">
          <label class="form-label">Lote</label>
          <input formControlName="nombre" type="text" class="form-control" placeholder="Ej. 000001">
        </div>
        <div class="mb-3 col-4">
          <label class="form-label">Fecha Alta</label>
          <input formControlName="fecha_alta" type="date" class="form-control">
        </div>
        <div class="mb-3 col-4">
          <label class="form-label">Fecha Caducidad</label>
          <input formControlName="fecha_caducidad" type="date" class="form-control">
        </div>
      </div>

      <button [ngClass]="{'disabled': loteForm.invalid}" type="button" class="btn btn-primary btn-block"
        (click)="addLote()">Aceptar</button>
    </form>
    }

    @if (documento.tipo_documento.inv_salida){
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Lote</th>
            <th scope="col">Fecha Alta</th>
            <th scope="col">Fecha Caducidad</th>
            <th scope="col">Existencias</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let l of lotes" (click)="addLote(l)">
            <td>
              <a class="text-primary">
                {{l.nombre}}
              </a>
            </td>
            <td>{{l.fecha_alta | fecha: 'DD/MM/YYYY'}}</td>
            <td>{{l.fecha_caducidad | fecha: 'DD/MM/YYYY'}}</td>
            <td>{{l.existencias[0].stock_final}} {{producto.medida.simbolo}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    }

  </div>
</div>

<div class="offcanvas offcanvas-end" id="agregar-producto">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title"></h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <app-agregar-producto [oc]="true" (newItemEvent)="addProducto($event)"></app-agregar-producto>
  </div>
</div>

<div class="offcanvas offcanvas-end" id="carrito_detalles">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Carrito Detalles</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">

    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-body">

            <div class="totalitem">
              <h4>Total items : {{carrito_detalles.length}}</h4>
              <h4>Total cantidad : {{getTotalCantidad()}}</h4>
              <button class="btn btn-outline-danger btn-sm" (click)="limpiarProductos()" style="margin-left: 10px;">
                <i class="fa-solid fa-trash"></i>
              </button>
            </div>

            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th scope="col">Descripción</th>
                    @if (documento.tipo_documento.precio) {
                    <th scope="col">Precio U.</th>
                    }
                    @if (documento.tipo_documento.costo) {
                    <th scope="col">Costo U.</th>
                    }
                    <th scope="col">Descuento %</th>
                    <th scope="col">Descuento</th>
                    <th scope="col">SubTotal</th>
                    @if (documento.slug == 'importacion') {
                    <th scope="col">Arancel</th>
                    <th scope="col">Peso (Kg)</th>
                    }
                    <th class="text-end" scope="col">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let d of carrito_detalles; let i = index" [ngClass]="{'movido': d.movido}">
                    <td>
                      {{d.cantidad}} {{d.descripcion}}
                    </td>
                    @if (documento.tipo_documento.precio) {
                    <td>
                      @if (moneda_id == 1) {
                      {{d.precio_unitario | moneda: ''}}
                      } @else {
                      {{d.precio_unitario_ext | moneda: ''}}
                      }
                    </td>
                    }
                    @if (documento.tipo_documento.costo) {
                    <td>
                      @if (moneda_id == 1) {
                      {{d.costo_unitario | moneda: ''}}
                      } @else {
                      {{d.costo_unitario_ext | moneda: ''}}
                      }
                    </td>
                    }
                    <td>
                      @if (moneda_id == 1) {
                      <input type="number" [(ngModel)]="d.descuento_porc" [ngModelOptions]="{standalone: true}"
                        (input)="setDescuento(d)" class="form-control" style="width: 100px;">
                      } @else {
                      <input type="number" [(ngModel)]="d.descuento_porc_ext" [ngModelOptions]="{standalone: true}"
                      (input)="setDescuentoExt(d)" class="form-control" style="width: 100px;">
                      }
                    </td>
                    <td>
                      @if (moneda_id == 1) {
                      <input type="number" [(ngModel)]="d.descuento" [ngModelOptions]="{standalone: true}"
                        (input)="setDescuentoPorc(d)" class="form-control" style="width: 100px;">
                      } @else {
                      <input type="number" [(ngModel)]="d.descuento_ext" [ngModelOptions]="{standalone: true}"
                        (input)="setDescuentoPorcExt(d)" class="form-control" style="width: 100px;">
                      }
                    </td>
                    <td>
                      @if (moneda_id == 1) {
                      {{d.total | moneda: ''}}
                      } @else {
                      {{d.total_ext | moneda: ''}}
                      }
                    </td>
                    @if (documento.slug == 'importacion') {
                    <td>
                      <input type="number" [(ngModel)]="d.arancel" [ngModelOptions]="{standalone: true}"
                        (input)="calculo(d)" class="form-control" style="width: 100px;" min="0" max="100">
                    </td>
                    <td>
                      <input type="number" [(ngModel)]="d.peso" [ngModelOptions]="{standalone: true}"
                        class="form-control" style="width: 100px;" min="0" max="100">
                    </td>
                    }
                    <td class="text-end">
                      <button class="btn btn-outline-primary btn-sm" (click)="moveTop(d)" [disabled]="i === 0"
                        style="margin-left: 10px;">
                        <i class="fa fa-arrows-up-to-line"></i>
                      </button>
                      <button class="btn btn-outline-primary btn-sm" (click)="moveUp(d)" [disabled]="i === 0"
                        style="margin-left: 10px;">
                        <i class="fa fa-arrow-up"></i>
                      </button>
                      <button class="btn btn-outline-primary btn-sm" (click)="moveDown(d)"
                        [disabled]="i === carrito_detalles.length - 1" style="margin-left: 10px;">
                        <i class="fa fa-arrow-down"></i>
                      </button>
                      <button class="btn btn-outline-primary btn-sm" (click)="moveBottom(d)"
                        [disabled]="i === carrito_detalles.length - 1" style="margin-left: 10px;">
                        <i class="fa fa-arrows-down-to-line"></i>
                      </button>
                      <button class="btn btn-outline-danger btn-sm" (click)="removeItem(d)" href="javascript:void(0);"
                        style="margin-left: 10px;">
                        <i class="fa fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- <div class="d-flex justify-content-end">
              <button class="btn btn-outline-secondary btn-sm" (click)="moveUp(d)" *ngFor="let d of carrito_detalles; let i = index" [disabled]="i === 0">
                <i class="fa fa-arrow-up"></i>
              </button>
              <button class="btn btn-outline-secondary btn-sm" (click)="moveDown(d)" *ngFor="let d of carrito_detalles; let i = index" [disabled]="i === carrito_detalles.length - 1">
                <i class="fa fa-arrow-down"></i>
              </button>
            </div> -->

          </div>
        </div>
      </div>
    </div>

  </div>
</div>