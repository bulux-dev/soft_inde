<main class="main">

  <!-- breadcrumb -->
  <div class="site-breadcrumb">
    <div class="site-breadcrumb-bg" style="background: url(assets/img/breadcrumb/01.jpg); filter: grayscale(1);"></div>
    <div class="container">
      <div class="site-breadcrumb-wrap">
        <h4 class="breadcrumb-title">Tienda</h4>
        <ul class="breadcrumb-menu">
          <li><a href="index.html"><i class="far fa-home"></i> Inicio</a></li>
          <li class="active">Tienda</li>
        </ul>
      </div>
    </div>
  </div>
  <!-- breadcrumb end -->


  <!-- shop-area -->
  <div class="shop-area bg py-90">
    <div class="container">
      <div class="row">
        <div class="col-lg-3">
          <div class="shop-sidebar wow fadeInLeft" data-wow-delay=".50s">
            <div class="shop-widget">
              <div class="shop-search-form">
                <h4 class="shop-widget-title">Buscar</h4>
                <form action="#">
                  <div class="form-group">
                    <input type="text" class="form-control" placeholder="Buscar">
                    <button type="search"><i class="far fa-search"></i></button>
                  </div>
                </form>
              </div>
            </div>
            <div class="shop-widget">
              <h4 class="shop-widget-title">Categorias</h4>
              <ul class="shop-category-list">
                <li *ngFor="let c of categorias">
                  <a routerLink="./" (click)="getProductosByCategoria(c.id)">{{c.nombre}}</a>
                </li>
              </ul>
            </div>
            <div class="shop-widget">
              <h4 class="shop-widget-title">Marcas</h4>
              <ul class="shop-checkbox-list">
                <li *ngFor="let m of marcas">
                  <a routerLink="./" (click)="getProductosByMarca(m.id)">{{m.nombre}}</a>
                </li>
              </ul>
            </div>
            <div class="shop-widget">
              <h4 class="shop-widget-title">Price Range</h4>
              <div class="price-range-box">
                <div class="price-range-input">
                  <input type="text" id="price-amount" readonly>
                </div>
                <div class="price-range"></div>
              </div>
            </div>
            <div class="shop-widget">
              <h4 class="shop-widget-title">Sales</h4>
              <ul class="shop-checkbox-list">
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="sale1">
                    <label class="form-check-label" for="sale1">On Sale</label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="sale2">
                    <label class="form-check-label" for="sale2">In Stock</label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="sale3">
                    <label class="form-check-label" for="sale3">Out Of Stock</label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="sale4">
                    <label class="form-check-label" for="sale4">Discount</label>
                  </div>
                </li>
              </ul>
            </div>
            <div class="shop-widget">
              <h4 class="shop-widget-title">Ratings</h4>
              <ul class="shop-checkbox-list rating">
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="rate1">
                    <label class="form-check-label" for="rate1">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                    </label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="rate2">
                    <label class="form-check-label" for="rate2">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fal fa-star"></i>
                    </label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="rate3">
                    <label class="form-check-label" for="rate3">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fal fa-star"></i>
                      <i class="fal fa-star"></i>
                    </label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="rate4">
                    <label class="form-check-label" for="rate4">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fal fa-star"></i>
                      <i class="fal fa-star"></i>
                      <i class="fal fa-star"></i>
                    </label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="rate5">
                    <label class="form-check-label" for="rate5">
                      <i class="fas fa-star"></i>
                      <i class="fal fa-star"></i>
                      <i class="fal fa-star"></i>
                      <i class="fal fa-star"></i>
                      <i class="fal fa-star"></i>
                    </label>
                  </div>
                </li>
              </ul>
            </div>
            <div class="shop-widget">
              <h4 class="shop-widget-title">Colors</h4>
              <ul class="shop-checkbox-list color">
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="color1">
                    <label class="form-check-label" for="color1"><span style="background-color: #606ddd"></span></label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="color2">
                    <label class="form-check-label" for="color2"><span style="background-color: #4caf50"></span></label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="color3">
                    <label class="form-check-label" for="color3"><span style="background-color: #17a2b8"></span></label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="color4">
                    <label class="form-check-label" for="color4"><span style="background-color: #ffc107"></span></label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="color5">
                    <label class="form-check-label" for="color5"><span style="background-color: #f44336"></span></label>
                  </div>
                </li>
              </ul>
            </div>
            <div class="shop-widget">
              <h4 class="shop-widget-title">Sizes</h4>
              <ul class="shop-checkbox-list">
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="size1">
                    <label class="form-check-label" for="size1">Extra Small</label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="size2">
                    <label class="form-check-label" for="size2">Small</label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="size3">
                    <label class="form-check-label" for="size3">Medium</label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="size4">
                    <label class="form-check-label" for="size4">Large</label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="size5">
                    <label class="form-check-label" for="size5">Extra Large</label>
                  </div>
                </li>
              </ul>
            </div>
            <div class="shop-widget-banner mt-30 mb-50">
              <div class="banner-img" style="background-image:url(assets/img/banner/shop-banner.jpg)"></div>
              <div class="banner-content">
                <h6>Get <span>35% Off</span></h6>
                <h4>New Collection of Furnitures</h4>
                <a href="#" class="theme-btn">Shop Now</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-9">
          <div class="col-md-12">
            <div class="shop-sort wow fadeInRight" data-wow-delay=".50s">
              <div class="shop-sort-box">
                <div class="shop-sorty-label">Ordenado por:</div>
                <select class="select">
                  <option value="1">Default Sorting</option>
                  <option value="5">Latest Items</option>
                  <option value="2">Best Seller Items</option>
                  <option value="3">Price - Low To High</option>
                  <option value="4">Price - High To Low</option>
                </select>
                <div class="shop-sort-show">Mostrando {{productos.length}} resultados</div>
              </div>
              <div class="shop-sort-gl">
                <a href="#" class="shop-sort-grid active"><i class="far fa-grid-round-2"></i></a>
                <a href="#" class="shop-sort-list"><i class="far fa-list-ul"></i></a>
              </div>
            </div>
          </div>
          <div class="shop-item-wrap item-3 wow fadeInRight" data-wow-delay=".50s">
            <div class="row g-4">
              @for(p of productos; track p) {
              <div class="col-md-6 col-lg-4">
                <div class="product-item">
                  <div class="product-img">
                    <span class="type">{{p.existencias[0] ? p.existencias[0].stock_final : 0}}
                      {{p.medida.simbolo}}</span>
                    <a (click)="setProducto(p)" data-bs-toggle="modal" data-bs-target="#quickview">
                      <img [src]="p.logo ? p.logo : 'assets/img/blank.jpg'"
                        style="width: 100vw; height: 35vh; border-radius: 20px;"></a>
                    <div class="product-action-wrap">
                      <div class="product-action">
                        <a href="#" (click)="setProducto(p)" data-bs-toggle="modal" data-bs-target="#quickview">
                          <i class="far fa-eye"></i>
                        </a>
                        <a href="#">
                          <i class="far fa-heart"></i>
                        </a>
                        <a routerLink="./" (click)="addCarrito(p)">
                          <i class="far fa-shopping-bag"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                  <div class="product-content">
                    <h3 class="product-title"><a href="#">{{p.nombre}}</a></h3>
                    <span>{{p.sku}}</span>
                    <div class="product-bottom">
                      <div class="product-price">
                        <span>{{p.precio | moneda: 'Q. '}}</span>
                      </div>
                      <button (click)="addCarrito(p)" type="button" class="product-cart-btn">
                        <i class="far fa-shopping-bag"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              }
            </div>
          </div>
          <!-- pagination -->
          <div class="pagination-area mt-50 wow fadeInUp" data-wow-delay=".50s">
            <div aria-label="Page navigation example">
              <ul class="pagination">
                <li class="page-item">
                  <a class="page-link" href="#" aria-label="Previous">
                    <span aria-hidden="true"><i class="far fa-arrow-left"></i></span>
                  </a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><span class="page-link">...</span></li>
                <li class="page-item"><a class="page-link" href="#">10</a></li>
                <li class="page-item">
                  <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true"><i class="far fa-arrow-right"></i></span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <!-- pagination end -->
        </div>
      </div>
    </div>
  </div>
  <!-- shop-area end -->

</main>

<!-- modal quick shop-->
<div class="modal quickview fade" id="quickview" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="quickview" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i
          class="far fa-xmark"></i></button>
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
            <img [src]="producto?.logo ? producto?.logo : 'assets/img/blank.jpg'"
              style="width: 100vw; border-radius: 20px;" alt="">
          </div>
          <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
            <div class="quickview-content">
              <h4 class="quickview-title">{{producto?.nombre}}</h4>
              <div class="quickview-rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
                <i class="far fa-star"></i>
                <span class="rating-count"> (4 Customer Reviews)</span>
              </div>
              <div class="quickview-price">
                <h5><del>$860</del><span>{{producto?.precio | moneda: 'Q. '}}</span></h5>
              </div>
              <ul class="quickview-list">
                <li>Marca:
                  <span *ngFor="let m of producto?.productos_marcas">{{m.marca.nombre}}<span
                      *ngIf="m != producto?.productos_marcas[producto?.productos_marcas.length - 1]">,</span></span>
                </li>
                <li>Categoria:
                  <span *ngFor="let m of producto?.productos_categorias">
                    {{m.categoria.nombre}}<span
                      *ngIf="m != producto?.productos_categorias[producto?.productos_categorias.length - 1]">,</span>
                  </span>
                </li>
                <li>Stock:
                  <span class="stock">
                    {{producto?.existencias[0] ? producto.existencias[0].stock_final : 0}}
                    {{producto?.medida.simbolo}}
                  </span>
                </li>
                <li>SKU: <span>{{producto?.sku}}</span></li>
              </ul>
              <div class="quickview-cart">
                <a routerLink="./" (click)="addCarrito(producto)" class="theme-btn">AÃ±adir al carrito</a>
              </div>
              <div class="quickview-social">
                <span>Compartir:</span>
                <a [href]="empresa?.facebook"><i class="fab fa-facebook-f"></i></a>
                <a [href]="empresa?.instagram"><i class="fab fa-instagram"></i></a>
                <a [href]="empresa?.twitter"><i class="fab fa-x-twitter"></i></a>
                <a [href]="empresa?.linkedin"><i class="fab fa-linkedin-in"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- modal quick shop end -->